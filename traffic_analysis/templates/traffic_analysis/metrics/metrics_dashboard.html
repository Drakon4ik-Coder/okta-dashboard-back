{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Okta Metrics Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="{% static 'traffic_analysis/css/euclid-circular-a.css' %}">
    <link rel="stylesheet" href="{% static 'rest_framework/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'traffic_analysis/css/font-awesome.min.css' %}">
    <link rel="stylesheet" href="{% static 'traffic_analysis/css/chart.min.css' %}">
    <link rel="stylesheet" href="{% static 'traffic_analysis/css/dashboard.css' %}" nonce="{{ nonce }}">
</head>
<body>
    <!-- Sidebar Toggle Button -->
    <div class="sidebar-toggle">
        <i class="fas fa-bars"></i>
    </div>
    
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <a href="/dashboard/" class="sidebar-brand">
                Okta<span>Analytics</span>
            </a>
        </div>
        
        <div class="pt-3">
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link" href="/dashboard/">
                        <i class="fas fa-chart-pie"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/events/">
                        <i class="fas fa-list-alt"></i>
                        <span>Events</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/users/">
                        <i class="fas fa-users"></i>
                        <span>Users</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/alerts/">
                        <i class="fas fa-bell"></i>
                        <span>Alerts</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="/metrics/">
                        <i class="fas fa-chart-line"></i>
                        <span>Metrics</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/reports/">
                        <i class="fas fa-file-alt"></i>
                        <span>Reports</span>
                    </a>
                </li>
                <li class="nav-item mt-5">
                    <a class="nav-link" href="/settings/">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/logout/">
                        <i class="fas fa-sign-out-alt"></i>
                        <span>Logout</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
        <!-- Topbar -->
        <div class="topbar">
            <div>
                <h1 class="page-title">Authentication Metrics</h1>
                <p class="page-description">Analyze authentication patterns and usage statistics across your organization.</p>
            </div>
            <div class="user-dropdown">
                <div class="user-info">
                    <div class="user-name">Admin User</div>
                    <div class="user-role">Administrator</div>
                </div>
                <div class="user-avatar">A</div>
            </div>
        </div>
        
        <!-- Time filter -->
        <div class="time-filter mb-4">
            <div class="time-filter-item active">Last 7 Days</div>
            <div class="time-filter-item">Last 14 Days</div>
            <div class="time-filter-item">Last 30 Days</div>
            <div class="time-filter-item">Last 90 Days</div>
            <div class="time-filter-item">Custom Range</div>
        </div>

        <!-- Stats Overview -->
        <div class="row">
            <div class="col-md-3">
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon icon-primary">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div>
                            <div class="stat-title">AUTH SUCCESS RATE</div>
                            <div class="stat-value">{{ auth_success_rate }}%</div>
                        </div>
                    </div>
                    <div class="stat-footer">
                        <div class="stat-trend trend-up">
                            <i class="fas fa-arrow-up mr-1"></i> 1.2%
                        </div>
                        <div class="stat-period">vs. previous period</div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon icon-success">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div>
                            <div class="stat-title">MFA USAGE RATE</div>
                            <div class="stat-value">{{ mfa_usage_rate }}%</div>
                        </div>
                    </div>
                    <div class="stat-footer">
                        <div class="stat-trend trend-up">
                            <i class="fas fa-arrow-up mr-1"></i> 3.8%
                        </div>
                        <div class="stat-period">vs. previous period</div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon icon-warning">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div>
                            <div class="stat-title">AVG SESSION TIME</div>
                            <div class="stat-value">{{ avg_session_time }}m</div>
                        </div>
                    </div>
                    <div class="stat-footer">
                        <div class="stat-trend trend-down">
                            <i class="fas fa-arrow-down mr-1"></i> 2.1%
                        </div>
                        <div class="stat-period">vs. previous period</div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon icon-danger">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div>
                            <div class="stat-title">FAILED LOGINS</div>
                            <div class="stat-value">254</div>
                        </div>
                    </div>
                    <div class="stat-footer">
                        <div class="stat-trend trend-down">
                            <i class="fas fa-arrow-down mr-1"></i> 5.7%
                        </div>
                        <div class="stat-period">vs. previous period</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Authentication Activity -->
        <div class="content-card">
            <div class="card-header">
                <h2 class="card-title">Authentication Activity</h2>
                <div>
                    <button class="btn btn-sm btn-outline-secondary">
                        <i class="fas fa-download"></i> Export Data
                    </button>
                </div>
            </div>
            <div class="card-body">
                <div class="chart-container">
                    <canvas id="authActivityChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Usage by Device and Location -->
        <div class="row">
            <div class="col-lg-6">
                <div class="content-card">
                    <div class="card-header">
                        <h2 class="card-title">Usage by Device Type</h2>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="metric-chart-container">
                                    <canvas id="deviceChart"></canvas>
                                </div>
                                <div class="chart-legend">
                                    <div class="legend-item">
                                        <div class="legend-color" style="background-color: var(--blue-1);"></div>
                                        <span>Desktop (58.4%)</span>
                                    </div>
                                    <div class="legend-item">
                                        <div class="legend-color" style="background-color: var(--green-2);"></div>
                                        <span>Mobile (32.1%)</span>
                                    </div>
                                    <div class="legend-item">
                                        <div class="legend-color" style="background-color: var(--yellow-1);"></div>
                                        <span>Tablet (5.7%)</span>
                                    </div>
                                    <div class="legend-item">
                                        <div class="legend-color" style="background-color: var(--purple-1);"></div>
                                        <span>API (3.8%)</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="device-item">
                                    <div class="device-icon device-icon-desktop">
                                        <i class="fas fa-desktop fa-lg"></i>
                                    </div>
                                    <div class="device-details">
                                        <div class="device-name">Desktop</div>
                                        <div class="device-stats">
                                            <div class="device-percentage">58.4%</div>
                                            3,245 sessions
                                        </div>
                                    </div>
                                </div>
                                <div class="device-item">
                                    <div class="device-icon device-icon-mobile">
                                        <i class="fas fa-mobile-alt fa-lg"></i>
                                    </div>
                                    <div class="device-details">
                                        <div class="device-name">Mobile</div>
                                        <div class="device-stats">
                                            <div class="device-percentage">32.1%</div>
                                            1,782 sessions
                                        </div>
                                    </div>
                                </div>
                                <div class="device-item">
                                    <div class="device-icon device-icon-tablet">
                                        <i class="fas fa-tablet-alt fa-lg"></i>
                                    </div>
                                    <div class="device-details">
                                        <div class="device-name">Tablet</div>
                                        <div class="device-stats">
                                            <div class="device-percentage">5.7%</div>
                                            317 sessions
                                        </div>
                                    </div>
                                </div>
                                <div class="device-item">
                                    <div class="device-icon device-icon-api">
                                        <i class="fas fa-code fa-lg"></i>
                                    </div>
                                    <div class="device-details">
                                        <div class="device-name">API</div>
                                        <div class="device-stats">
                                            <div class="device-percentage">3.8%</div>
                                            211 sessions
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="content-card">
                    <div class="card-header">
                        <h2 class="card-title">Geographic Distribution</h2>
                    </div>
                    <div class="card-body">
                        <div class="map-container" id="worldMap">
                            <!-- Map will be rendered here -->
                        </div>
                        <div class="mt-3">
                            <div class="row">
                                <div class="col-6">
                                    <h6 class="mb-3">Top Locations</h6>
                                    <div class="mb-2 d-flex justify-content-between">
                                        <span>United States</span>
                                        <span class="fw-bold">42.5%</span>
                                    </div>
                                    <div class="mb-2 d-flex justify-content-between">
                                        <span>United Kingdom</span>
                                        <span class="fw-bold">12.8%</span>
                                    </div>
                                    <div class="mb-2 d-flex justify-content-between">
                                        <span>Germany</span>
                                        <span class="fw-bold">8.3%</span>
                                    </div>
                                    <div class="mb-2 d-flex justify-content-between">
                                        <span>India</span>
                                        <span class="fw-bold">7.6%</span>
                                    </div>
                                    <div class="mb-2 d-flex justify-content-between">
                                        <span>Australia</span>
                                        <span class="fw-bold">5.2%</span>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <h6 class="mb-3">New Locations (7d)</h6>
                                    <div class="mb-2 d-flex justify-content-between align-items-center">
                                        <span>Brazil</span>
                                        <span class="badge bg-warning">3 users</span>
                                    </div>
                                    <div class="mb-2 d-flex justify-content-between align-items-center">
                                        <span>Singapore</span>
                                        <span class="badge bg-warning">2 users</span>
                                    </div>
                                    <div class="mb-2 d-flex justify-content-between align-items-center">
                                        <span>South Africa</span>
                                        <span class="badge bg-warning">1 user</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MFA & Authentication Methods -->
        <div class="row">
            <div class="col-lg-6">
                <div class="content-card">
                    <div class="card-header">
                        <h2 class="card-title">MFA Methods Distribution</h2>
                    </div>
                    <div class="card-body">
                        <div class="row text-center">
                            <div class="col-4">
                                <div class="metric-gauge">
                                    <div class="gauge-chart">
                                        <canvas id="mfaGauge1"></canvas>
                                        <div class="gauge-value">67%</div>
                                    </div>
                                    <div class="gauge-label">Authenticator App</div>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="metric-gauge">
                                    <div class="gauge-chart">
                                        <canvas id="mfaGauge2"></canvas>
                                        <div class="gauge-value">23%</div>
                                    </div>
                                    <div class="gauge-label">SMS</div>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="metric-gauge">
                                    <div class="gauge-chart">
                                        <canvas id="mfaGauge3"></canvas>
                                        <div class="gauge-value">10%</div>
                                    </div>
                                    <div class="gauge-label">Security Key</div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-4">
                            <h6>MFA Adoption Trend</h6>
                            <div class="metric-chart-container">
                                <canvas id="mfaAdoptionChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="content-card">
                    <div class="card-header">
                        <h2 class="card-title">App Usage</h2>
                    </div>
                    <div class="card-body">
                        <div class="metric-chart-container">
                            <canvas id="appUsageChart"></canvas>
                        </div>
                        <div class="mt-4">
                            <h6>Top Applications</h6>
                            <div class="table-responsive">
                                <table class="table table-sm">
                                    <thead>
                                        <tr>
                                            <th>Application</th>
                                            <th>Users</th>
                                            <th>Sessions</th>
                                            <th>Avg. Time</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Salesforce</td>
                                            <td>78</td>
                                            <td>1,254</td>
                                            <td>42m</td>
                                        </tr>
                                        <tr>
                                            <td>Google Workspace</td>
                                            <td>112</td>
                                            <td>985</td>
                                            <td>35m</td>
                                        </tr>
                                        <tr>
                                            <td>Office 365</td>
                                            <td>95</td>
                                            <td>842</td>
                                            <td>28m</td>
                                        </tr>
                                        <tr>
                                            <td>ServiceNow</td>
                                            <td>43</td>
                                            <td>412</td>
                                            <td>22m</td>
                                        </tr>
                                        <tr>
                                            <td>Slack</td>
                                            <td>87</td>
                                            <td>378</td>
                                            <td>18m</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Usage Patterns -->
        <div class="content-card">
            <div class="card-header">
                <h2 class="card-title">Usage Patterns</h2>
            </div>
            <div class="card-body">
                <h5>Hourly Activity (Last 7 Days)</h5>
                <div class="heatmap-container-wrapper">
                    <div class="heatmap-labels-y">
                        <div>Sunday</div>
                        <div>Monday</div>
                        <div>Tuesday</div>
                        <div>Wednesday</div>
                        <div>Thursday</div>
                        <div>Friday</div>
                        <div>Saturday</div>
                    </div>
                    <div class="heatmap-container" id="activityHeatmap">
                        <!-- Heatmap cells will be dynamically generated -->
                    </div>
                    <div class="heatmap-labels-x">
                        <div>12 AM</div>
                        <div>6 AM</div>
                        <div>12 PM</div>
                        <div>6 PM</div>
                        <div>11 PM</div>
                    </div>
                </div>
                <div class="mt-4">
                    <p>Peak usage hour: <strong>{{ peak_usage_hour }}:00</strong> (average of 157 logins)</p>
                    <p>Your organization shows consistent usage patterns with highest activity on weekdays between 9 AM and 11 AM local time. Weekend activity is minimal with occasional access primarily from management roles.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="{% static 'rest_framework/js/jquery-3.7.1.min.js' %}"></script>
    <script src="{% static 'rest_framework/js/bootstrap.min.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js" nonce="{{ nonce }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsvectormap@1.3.3/dist/js/jsvectormap.min.js" nonce="{{ nonce }}"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsvectormap@1.3.3/dist/maps/world.js" nonce="{{ nonce }}"></script>
    <script nonce="{{ nonce }}">
        // Toggle sidebar on mobile
        document.querySelector('.sidebar-toggle').addEventListener('click', function() {
            document.querySelector('.sidebar').classList.toggle('show');
        });
        
        // Authentication Activity Chart
        const authActivityCtx = document.getElementById('authActivityChart').getContext('2d');
        const authActivityChart = new Chart(authActivityCtx, {
            type: 'line',
            data: {
                labels: ['Apr 25', 'Apr 26', 'Apr 27', 'Apr 28', 'Apr 29', 'Apr 30', 'May 1'],
                datasets: [
                    {
                        label: 'Successful',
                        data: [845, 782, 901, 934, 1290, 1130, 1020],
                        borderColor: '#01C853',
                        backgroundColor: 'rgba(1, 200, 83, 0.1)',
                        tension: 0.4,
                        pointBackgroundColor: '#01C853',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 4,
                        fill: true
                    },
                    {
                        label: 'Failed',
                        data: [42, 35, 45, 32, 65, 52, 38],
                        borderColor: '#DB3030',
                        backgroundColor: 'rgba(219, 48, 48, 0.1)',
                        tension: 0.4,
                        pointBackgroundColor: '#DB3030',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 4,
                        fill: true
                    },
                    {
                        label: 'MFA Challenges',
                        data: [623, 578, 702, 687, 943, 821, 758],
                        borderColor: '#0D6EFD',
                        backgroundColor: 'rgba(13, 110, 253, 0.1)',
                        tension: 0.4,
                        pointBackgroundColor: '#0D6EFD',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 4,
                        fill: true
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        }
                    }
                },
                plugins: {
                    legend: {
                        position: 'top'
                    }
                }
            }
        });
        
        // Device Chart
        const deviceCtx = document.getElementById('deviceChart').getContext('2d');
        const deviceChart = new Chart(deviceCtx, {
            type: 'doughnut',
            data: {
                labels: ['Desktop', 'Mobile', 'Tablet', 'API'],
                datasets: [{
                    data: [58.4, 32.1, 5.7, 3.8],
                    backgroundColor: [
                        '#0D6EFD',
                        '#01C853',
                        '#FFCA28',
                        '#6E31E0'
                    ],
                    borderColor: 'white',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '70%',
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });

        // Create MFA Gauge charts
        function createGaugeChart(ctx, value, color) {
            return new Chart(ctx, {
                type: 'doughnut',
                data: {
                    datasets: [{
                        data: [value, 100 - value],
                        backgroundColor: [
                            color,
                            '#F9FBFA'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '75%',
                    circumference: 180,
                    rotation: -90,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            enabled: false
                        }
                    }
                }
            });
        }

        // MFA Gauge charts
        const mfaGauge1 = createGaugeChart(document.getElementById('mfaGauge1').getContext('2d'), 67, '#01C853');
        const mfaGauge2 = createGaugeChart(document.getElementById('mfaGauge2').getContext('2d'), 23, '#0D6EFD');
        const mfaGauge3 = createGaugeChart(document.getElementById('mfaGauge3').getContext('2d'), 10, '#FFCA28');

        // MFA Adoption Chart
        const mfaAdoptionCtx = document.getElementById('mfaAdoptionChart').getContext('2d');
        const mfaAdoptionChart = new Chart(mfaAdoptionCtx, {
            type: 'line',
            data: {
                labels: ['Feb', 'Mar', 'Apr', 'May'],
                datasets: [{
                    label: 'MFA Adoption Rate',
                    data: [42, 53, 62, 68],
                    borderColor: '#01C853',
                    backgroundColor: 'rgba(1, 200, 83, 0.1)',
                    tension: 0.4,
                    pointBackgroundColor: '#01C853',
                    pointBorderColor: '#fff',
                    pointBorderWidth: 2,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        ticks: {
                            callback: function(value) {
                                return value + '%';
                            }
                        },
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });

        // App Usage Chart
        const appUsageCtx = document.getElementById('appUsageChart').getContext('2d');
        const appUsageChart = new Chart(appUsageCtx, {
            type: 'bar',
            data: {
                labels: ['Salesforce', 'Google Workspace', 'Office 365', 'ServiceNow', 'Slack', 'Jira', 'Others'],
                datasets: [{
                    label: 'Sessions',
                    data: [1254, 985, 842, 412, 378, 256, 435],
                    backgroundColor: [
                        'rgba(13, 110, 253, 0.7)',
                        'rgba(1, 200, 83, 0.7)',
                        'rgba(255, 202, 40, 0.7)',
                        'rgba(239, 108, 0, 0.7)',
                        'rgba(110, 49, 224, 0.7)',
                        'rgba(219, 48, 48, 0.7)',
                        'rgba(136, 147, 146, 0.7)'
                    ],
                    borderColor: [
                        '#0D6EFD',
                        '#01C853',
                        '#FFCA28',
                        '#EF6C00',
                        '#6E31E0',
                        '#DB3030',
                        '#889392'
                    ],
                    borderWidth: 1,
                    borderRadius: 4,
                    maxBarThickness: 30
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: 'rgba(0, 0, 0, 0.05)'
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });

        // Generate heatmap
        const heatmap = document.getElementById('activityHeatmap');
        const hours = 24;
        const days = 7;
        
        // Sample data - would be replaced with real data
        const activityData = [
            [1,1,1,1,1,1,1,2,3,5,4,3,2,3,4,3,2,2,1,1,1,1,1,1], // Sunday
            [1,1,1,1,1,2,3,4,5,5,4,4,3,4,4,4,3,2,2,1,1,1,1,1], // Monday
            [1,1,1,1,1,2,3,4,5,5,4,4,3,4,4,5,3,3,2,1,1,1,1,1], // Tuesday
            [1,1,1,1,1,2,3,4,5,5,4,4,3,4,4,4,4,3,2,1,1,1,1,1], // Wednesday
            [1,1,1,1,1,2,3,4,5,5,4,4,3,4,4,4,3,3,2,1,1,1,1,1], // Thursday
            [1,1,1,1,1,2,3,4,4,4,3,3,3,3,3,3,2,2,1,1,1,1,1,1], // Friday
            [1,1,1,1,1,1,1,1,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1]  // Saturday
        ];
        
        // Create heatmap cells
        for (let day = 0; day < days; day++) {
            for (let hour = 0; hour < hours; hour++) {
                const cell = document.createElement('div');
                cell.className = `heatmap-cell heatmap-cell-${activityData[day][hour]}`;
                cell.title = `${['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'][day]} at ${hour}:00`;
                heatmap.appendChild(cell);
            }
        }

        // World Map (placeholder - would be initialized with a library like jsVectorMap)
        // This is just a placeholder, in a real implementation you'd initialize the map
        try {
            const map = new jsVectorMap({
                selector: '#worldMap',
                map: 'world',
                backgroundColor: 'transparent',
                regionStyle: {
                    initial: {
                        fill: '#e0e0e0',
                        "fill-opacity": 0.9,
                        stroke: 'none',
                        "stroke-width": 0,
                        "stroke-opacity": 0
                    },
                    hover: {
                        "fill-opacity": 0.8,
                        cursor: 'pointer'
                    }
                },
                markerStyle: {
                    initial: {
                        fill: '#0D6EFD',
                        stroke: '#FFFFFF',
                        "fill-opacity": 0.9,
                        "stroke-width": 1,
                        "stroke-opacity": 0.8,
                        r: 5
                    },
                    hover: {
                        fill: '#0953C7',
                        stroke: '#FFFFFF',
                        "stroke-width": 2,
                    }
                },
                markers: [
                    { name: "United States", coords: [37.0902, -95.7129], style: { fill: '#0D6EFD' } },
                    { name: "United Kingdom", coords: [55.3781, -3.4360], style: { fill: '#0D6EFD' } },
                    { name: "Germany", coords: [51.1657, 10.4515], style: { fill: '#0D6EFD' } },
                    { name: "India", coords: [20.5937, 78.9629], style: { fill: '#0D6EFD' } },
                    { name: "Australia", coords: [-25.2744, 133.7751], style: { fill: '#0D6EFD' } },
                    { name: "Brazil", coords: [-14.2350, -51.9253], style: { fill: '#FFCA28' } },
                    { name: "Singapore", coords: [1.3521, 103.8198], style: { fill: '#FFCA28' } },
                    { name: "South Africa", coords: [-30.5595, 22.9375], style: { fill: '#FFCA28' } }
                ]
            });
        } catch(e) {
            console.log('Vector map not available - would be initialized in production');
        }
    </script>
</body>
</html>